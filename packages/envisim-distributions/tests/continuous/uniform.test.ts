import {describe} from 'vitest';

import {Triangular, Uniform} from '../../src/index.js';
import {distributionTests, fromTo} from '../_distributions.testf.js';

describe('Uniform(-1, 1)', () => {
  const pdf = new Array(21).fill(0.5);
  const cdf = [
    0.0, 0.049999999999999988898, 0.099999999999999977796, 0.150000000000000022204,
    0.200000000000000011102, 0.25, 0.299999999999999988898, 0.349999999999999977796,
    0.400000000000000022204, 0.450000000000000011102, 0.5, 0.550000000000000044409,
    0.599999999999999977796, 0.650000000000000022204, 0.699999999999999955591, 0.75,
    0.800000000000000044409, 0.849999999999999977796, 0.900000000000000022204,
    0.949999999999999955591, 1.0,
  ];
  const quantile = [
    -1.0, -0.80000000000000004441, -0.5999999999999999778, -0.4000000000000000222,
    -0.19999999999999995559, 0.0, 0.19999999999999995559, 0.39999999999999991118,
    0.60000000000000008882, 0.80000000000000004441, 1.0,
  ];
  const x = fromTo(-1, 1.01, 0.1);

  distributionTests(new Uniform(-1.0, 1.0), {x, pdf, cdf, quantile});
});

describe('Triangular(0.0, 0.5, 2)', () => {
  const pdf = [
    0.0, 0.4000000000000000222, 0.80000000000000004441, 0.93333333333333323711,
    0.79999999999999993339, 0.66666666666666662966, 0.53333333333333332593, 0.40000000000000007772,
    0.26666666666666660745, 0.13333333333333330373, 0.0,
  ];
  const cdf = [
    0.0, 0.040000000000000007772, 0.160000000000000031086, 0.346666666666666789531,
    0.520000000000000017764, 0.666666666666666740682, 0.786666666666666625218,
    0.880000000000000004441, 0.946666666666666656305, 0.986666666666666691832, 1.0,
  ];
  const quantile = [
    0.0, 0.31622776601683794118, 0.4472135954999579277, 0.55086232538105628365,
    0.65835921350012616138, 0.77525512860841105933, 0.90455488498966762911, 1.05131670194948600994,
    1.22540333075851659572, 1.45227744249483392558, 2.0,
  ];
  const x = fromTo(0.0, 2.01, 0.2);

  distributionTests(new Triangular(0.0, 2.0, 0.5), {x, pdf, cdf, quantile});
});
