import {expect, test} from 'vitest';

import {FeatureCollection, Polygon} from '@envisim/geojson-utils';

import {intersectAreaSampleAreaFrame} from '../../src/utils/intersect-x-sample-area-frame.js';

test('belt-sampling', () => {
  const poly1 = Polygon.create([
    [
      [20.383759, 63.800804],
      [20.380669, 63.800037],
      [20.383523, 63.799279],
      [20.386033, 63.800188],
      [20.383759, 63.800804],
    ],
  ]);
  const poly2 = Polygon.create([
    [
      [20.386591, 63.800056],
      [20.384381, 63.799156],
      [20.389574, 63.797905],
      [20.391076, 63.799118],
      [20.386591, 63.800056],
    ],
  ]);
  const fc1 = FeatureCollection.newArea([]);
  fc1.addGeometry(poly1);
  fc1.addGeometry(poly2);
  fc1.features[0].geometry.bbox = [20.380669, 63.799279, 20.386033, 63.800804];
  fc1.features[1].geometry.bbox = [20.384381, 63.797905, 20.391076, 63.800056];

  const strip = Polygon.create([
    [
      [20.379721763815656, 63.79945737049271],
      [20.380369209729796, 63.7994573704927],
      [20.38101665564394, 63.79945737049272],
      [20.38166410155808, 63.79945737049272],
      [20.382311547472224, 63.7994573704927],
      [20.382958993386364, 63.79945737049272],
      [20.383606439300507, 63.79945737049271],
      [20.384253885214648, 63.79945737049271],
      [20.384901331128788, 63.79945737049271],
      [20.385548777042935, 63.7994573704927],
      [20.386196222957068, 63.7994573704927],
      [20.386843668871215, 63.79945737049271],
      [20.387491114785355, 63.79945737049271],
      [20.388138560699495, 63.79945737049271],
      [20.38878600661364, 63.79945737049272],
      [20.38943345252778, 63.7994573704927],
      [20.390080898441923, 63.79945737049272],
      [20.390728344356063, 63.79945737049272],
      [20.391375790270207, 63.7994573704927],
      [20.392023236184347, 63.79945737049271],
      [20.39202323618435, 63.79963678415679],
      [20.39137579027021, 63.79963678415679],
      [20.390728344356067, 63.79963678415679],
      [20.390080898441923, 63.79963678415679],
      [20.389433452527783, 63.79963678415679],
      [20.38878600661364, 63.79963678415678],
      [20.388138560699495, 63.79963678415679],
      [20.38749111478536, 63.79963678415679],
      [20.386843668871208, 63.79963678415678],
      [20.386196222957068, 63.79963678415679],
      [20.385548777042935, 63.79963678415679],
      [20.384901331128795, 63.79963678415678],
      [20.384253885214644, 63.79963678415679],
      [20.383606439300507, 63.79963678415679],
      [20.382958993386364, 63.79963678415678],
      [20.38231154747222, 63.79963678415679],
      [20.38166410155808, 63.79963678415679],
      [20.381016655643936, 63.79963678415679],
      [20.380369209729793, 63.79963678415679],
      [20.379721763815652, 63.79963678415679],
      [20.379721763815656, 63.79945737049271],
    ],
  ]);

  const fc2 = FeatureCollection.newArea([]);
  fc2.addGeometry(strip);

  const int2 = intersectAreaSampleAreaFrame(fc2, fc1);
  expect(int2).not.toBeNull();

  const fc3 = FeatureCollection.createAreaFromJson({
    type: 'FeatureCollection',
    features: [
      {
        type: 'Feature',
        geometry: {
          type: 'Polygon',
          coordinates: [
            [
              [20.379721763815645, 63.79676616553157],
              [20.38036920972979, 63.79676616553158],
              [20.38101665564394, 63.79676616553158],
              [20.381664101558073, 63.79676616553157],
              [20.382311547472217, 63.79676616553157],
              [20.382958993386367, 63.79676616553158],
              [20.383606439300507, 63.79676616553157],
              [20.384253885214648, 63.79676616553158],
              [20.384901331128788, 63.79676616553158],
              [20.38554877704293, 63.796766165531565],
              [20.38619622295707, 63.796766165531565],
              [20.386843668871215, 63.79676616553158],
              [20.387491114785355, 63.79676616553158],
              [20.388138560699495, 63.79676616553157],
              [20.388786006613635, 63.79676616553158],
              [20.389433452527783, 63.796766165531565],
              [20.39008089844193, 63.79676616553157],
              [20.390728344356063, 63.79676616553158],
              [20.39137579027021, 63.79676616553157],
              [20.392023236184357, 63.79676616553157],
              [20.392023236184357, 63.79694557919564],
              [20.39137579027022, 63.79694557919564],
              [20.39072834435607, 63.796945579195636],
              [20.39008089844193, 63.79694557919565],
              [20.389433452527783, 63.79694557919565],
              [20.38878600661365, 63.796945579195636],
              [20.388138560699492, 63.79694557919565],
              [20.38749111478536, 63.79694557919565],
              [20.386843668871215, 63.796945579195636],
              [20.38619622295707, 63.79694557919565],
              [20.38554877704293, 63.79694557919565],
              [20.384901331128788, 63.796945579195636],
              [20.384253885214644, 63.79694557919565],
              [20.383606439300507, 63.79694557919565],
              [20.382958993386353, 63.796945579195636],
              [20.38231154747222, 63.79694557919565],
              [20.381664101558073, 63.79694557919565],
              [20.381016655643933, 63.79694557919564],
              [20.380369209729782, 63.79694557919564],
              [20.379721763815645, 63.79694557919564],
              [20.379721763815645, 63.79676616553157],
            ],
          ],
        },
        properties: {
          _designWeight: 2.5,
        },
      },
      {
        type: 'Feature',
        geometry: {
          type: 'Polygon',
          coordinates: [
            [
              [20.379721763815663, 63.797214699691764],
              [20.380369209729793, 63.797214699691764],
              [20.381016655643943, 63.797214699691764],
              [20.38166410155808, 63.797214699691764],
              [20.382311547472224, 63.797214699691764],
              [20.38295899338637, 63.797214699691764],
              [20.383606439300504, 63.797214699691764],
              [20.38425388521465, 63.797214699691764],
              [20.384901331128788, 63.797214699691764],
              [20.38554877704293, 63.797214699691764],
              [20.38619622295707, 63.797214699691764],
              [20.386843668871215, 63.797214699691764],
              [20.38749111478535, 63.797214699691764],
              [20.3881385606995, 63.797214699691764],
              [20.38878600661364, 63.79721469969176],
              [20.38943345252778, 63.797214699691764],
              [20.39008089844193, 63.797214699691764],
              [20.390728344356063, 63.797214699691764],
              [20.39137579027021, 63.797214699691764],
              [20.39202323618434, 63.797214699691764],
              [20.39202323618436, 63.797394113355836],
              [20.391375790270214, 63.797394113355836],
              [20.390728344356063, 63.797394113355836],
              [20.390080898441933, 63.797394113355836],
              [20.389433452527786, 63.797394113355836],
              [20.388786006613643, 63.797394113355836],
              [20.388138560699492, 63.79739411335584],
              [20.38749111478535, 63.797394113355836],
              [20.386843668871215, 63.79739411335584],
              [20.38619622295707, 63.797394113355836],
              [20.38554877704293, 63.797394113355836],
              [20.384901331128788, 63.79739411335584],
              [20.38425388521465, 63.797394113355836],
              [20.383606439300507, 63.797394113355836],
              [20.38295899338636, 63.797394113355836],
              [20.382311547472217, 63.797394113355836],
              [20.38166410155807, 63.797394113355836],
              [20.38101665564394, 63.797394113355836],
              [20.380369209729785, 63.797394113355836],
              [20.379721763815642, 63.797394113355836],
              [20.379721763815663, 63.797214699691764],
            ],
          ],
        },
        properties: {
          _designWeight: 2.5,
        },
      },
      {
        type: 'Feature',
        geometry: {
          type: 'Polygon',
          coordinates: [
            [
              [20.37972176381565, 63.79766323385195],
              [20.380369209729785, 63.79766323385195],
              [20.38101665564394, 63.79766323385195],
              [20.381664101558084, 63.797663233851964],
              [20.382311547472217, 63.79766323385195],
              [20.382958993386367, 63.79766323385195],
              [20.383606439300493, 63.79766323385195],
              [20.384253885214644, 63.79766323385195],
              [20.384901331128784, 63.79766323385195],
              [20.38554877704293, 63.79766323385195],
              [20.38619622295707, 63.79766323385195],
              [20.38684366887122, 63.79766323385195],
              [20.387491114785355, 63.79766323385195],
              [20.38813856069951, 63.79766323385195],
              [20.388786006613643, 63.79766323385195],
              [20.38943345252778, 63.79766323385195],
              [20.39008089844192, 63.797663233851964],
              [20.390728344356063, 63.79766323385195],
              [20.391375790270217, 63.79766323385195],
              [20.392023236184347, 63.79766323385195],
              [20.392023236184336, 63.79784264751602],
              [20.39137579027021, 63.79784264751602],
              [20.39072834435606, 63.79784264751602],
              [20.390080898441912, 63.79784264751602],
              [20.38943345252778, 63.79784264751602],
              [20.38878600661364, 63.79784264751602],
              [20.38813856069949, 63.79784264751602],
              [20.38749111478535, 63.79784264751602],
              [20.386843668871215, 63.79784264751602],
              [20.38619622295707, 63.79784264751602],
              [20.38554877704293, 63.79784264751602],
              [20.384901331128788, 63.79784264751602],
              [20.38425388521465, 63.79784264751602],
              [20.383606439300515, 63.79784264751602],
              [20.382958993386364, 63.79784264751602],
              [20.382311547472217, 63.79784264751602],
              [20.38166410155808, 63.79784264751602],
              [20.381016655643943, 63.79784264751602],
              [20.38036920972979, 63.79784264751602],
              [20.379721763815667, 63.79784264751602],
              [20.37972176381565, 63.79766323385195],
            ],
          ],
        },
        properties: {
          _designWeight: 2.5,
        },
      },
      {
        type: 'Feature',
        geometry: {
          type: 'Polygon',
          coordinates: [
            [
              [20.379721763815656, 63.79811176801214],
              [20.380369209729793, 63.79811176801214],
              [20.381016655643943, 63.79811176801215],
              [20.381664101558084, 63.79811176801214],
              [20.382311547472227, 63.79811176801214],
              [20.382958993386364, 63.79811176801214],
              [20.3836064393005, 63.79811176801214],
              [20.384253885214648, 63.79811176801214],
              [20.384901331128784, 63.79811176801214],
              [20.38554877704293, 63.79811176801214],
              [20.38619622295707, 63.79811176801214],
              [20.38684366887122, 63.79811176801214],
              [20.387491114785348, 63.79811176801214],
              [20.388138560699502, 63.79811176801214],
              [20.38878600661364, 63.79811176801214],
              [20.389433452527783, 63.79811176801214],
              [20.39008089844192, 63.79811176801214],
              [20.39072834435606, 63.79811176801215],
              [20.39137579027021, 63.79811176801214],
              [20.392023236184354, 63.79811176801214],
              [20.39202323618436, 63.79829118167622],
              [20.391375790270203, 63.79829118167622],
              [20.39072834435608, 63.79829118167621],
              [20.390080898441937, 63.79829118167621],
              [20.389433452527786, 63.798291181676205],
              [20.388786006613646, 63.79829118167621],
              [20.3881385606995, 63.79829118167622],
              [20.387491114785355, 63.79829118167622],
              [20.38684366887122, 63.79829118167621],
              [20.38619622295707, 63.79829118167622],
              [20.38554877704293, 63.79829118167622],
              [20.384901331128788, 63.79829118167622],
              [20.384253885214648, 63.79829118167622],
              [20.383606439300504, 63.79829118167622],
              [20.382958993386357, 63.79829118167621],
              [20.382311547472217, 63.798291181676205],
              [20.381664101558066, 63.79829118167621],
              [20.381016655643922, 63.79829118167622],
              [20.3803692097298, 63.79829118167622],
              [20.379721763815642, 63.79829118167622],
              [20.379721763815656, 63.79811176801214],
            ],
          ],
        },
        properties: {
          _designWeight: 2.5,
        },
      },
      {
        type: 'Feature',
        geometry: {
          type: 'Polygon',
          coordinates: [
            [
              [20.379721763815652, 63.79856030217232],
              [20.380369209729793, 63.79856030217233],
              [20.381016655643933, 63.79856030217232],
              [20.381664101558073, 63.79856030217232],
              [20.382311547472224, 63.79856030217233],
              [20.382958993386353, 63.79856030217232],
              [20.3836064393005, 63.79856030217232],
              [20.38425388521464, 63.79856030217232],
              [20.38490133112878, 63.79856030217232],
              [20.38554877704293, 63.79856030217232],
              [20.38619622295707, 63.79856030217232],
              [20.38684366887122, 63.79856030217232],
              [20.387491114785362, 63.79856030217232],
              [20.388138560699502, 63.79856030217232],
              [20.38878600661365, 63.79856030217232],
              [20.38943345252778, 63.79856030217233],
              [20.39008089844193, 63.79856030217232],
              [20.390728344356074, 63.79856030217232],
              [20.39137579027021, 63.79856030217233],
              [20.39202323618435, 63.79856030217232],
              [20.39202323618435, 63.798739715836405],
              [20.391375790270207, 63.798739715836405],
              [20.390728344356063, 63.798739715836405],
              [20.390080898441923, 63.798739715836405],
              [20.389433452527783, 63.798739715836405],
              [20.38878600661363, 63.798739715836405],
              [20.3881385606995, 63.798739715836405],
              [20.387491114785348, 63.7987397158364],
              [20.386843668871204, 63.798739715836405],
              [20.386196222957068, 63.79873971583639],
              [20.38554877704293, 63.79873971583639],
              [20.3849013311288, 63.798739715836405],
              [20.384253885214658, 63.7987397158364],
              [20.383606439300504, 63.798739715836405],
              [20.38295899338638, 63.798739715836405],
              [20.38231154747222, 63.798739715836405],
              [20.38166410155808, 63.798739715836405],
              [20.38101665564394, 63.798739715836405],
              [20.380369209729796, 63.798739715836405],
              [20.379721763815652, 63.798739715836405],
              [20.379721763815652, 63.79856030217232],
            ],
          ],
        },
        properties: {
          _designWeight: 2.5,
        },
      },
      {
        type: 'Feature',
        geometry: {
          type: 'Polygon',
          coordinates: [
            [
              [20.37972176381566, 63.79900883633252],
              [20.380369209729796, 63.79900883633252],
              [20.38101665564394, 63.79900883633252],
              [20.381664101558076, 63.79900883633252],
              [20.382311547472224, 63.79900883633252],
              [20.382958993386364, 63.79900883633252],
              [20.38360643930051, 63.79900883633252],
              [20.384253885214648, 63.79900883633252],
              [20.384901331128788, 63.79900883633252],
              [20.385548777042928, 63.79900883633252],
              [20.386196222957075, 63.79900883633252],
              [20.386843668871215, 63.79900883633252],
              [20.387491114785355, 63.79900883633252],
              [20.388138560699492, 63.79900883633252],
              [20.38878600661364, 63.79900883633252],
              [20.38943345252778, 63.79900883633252],
              [20.390080898441926, 63.79900883633252],
              [20.390728344356063, 63.79900883633252],
              [20.391375790270207, 63.79900883633252],
              [20.392023236184343, 63.79900883633252],
              [20.392023236184347, 63.79918824999659],
              [20.391375790270207, 63.79918824999659],
              [20.390728344356063, 63.79918824999659],
              [20.390080898441923, 63.79918824999659],
              [20.38943345252778, 63.79918824999659],
              [20.388786006613643, 63.79918824999659],
              [20.388138560699492, 63.79918824999659],
              [20.38749111478536, 63.79918824999659],
              [20.386843668871215, 63.79918824999659],
              [20.386196222957064, 63.79918824999659],
              [20.38554877704294, 63.79918824999659],
              [20.38490133112879, 63.79918824999659],
              [20.384253885214644, 63.79918824999659],
              [20.38360643930051, 63.79918824999659],
              [20.38295899338636, 63.79918824999659],
              [20.382311547472224, 63.79918824999659],
              [20.38166410155808, 63.79918824999659],
              [20.38101665564394, 63.79918824999659],
              [20.380369209729796, 63.79918824999659],
              [20.379721763815656, 63.79918824999659],
              [20.37972176381566, 63.79900883633252],
            ],
          ],
        },
        properties: {
          _designWeight: 2.5,
        },
      },
      {
        type: 'Feature',
        geometry: {
          type: 'Polygon',
          coordinates: [
            [
              [20.379721763815656, 63.79945737049271],
              [20.380369209729796, 63.7994573704927],
              [20.38101665564394, 63.79945737049272],
              [20.38166410155808, 63.79945737049272],
              [20.382311547472224, 63.7994573704927],
              [20.382958993386364, 63.79945737049272],
              [20.383606439300507, 63.79945737049271],
              [20.384253885214648, 63.79945737049271],
              [20.384901331128788, 63.79945737049271],
              [20.385548777042935, 63.7994573704927],
              [20.386196222957068, 63.7994573704927],
              [20.386843668871215, 63.79945737049271],
              [20.387491114785355, 63.79945737049271],
              [20.388138560699495, 63.79945737049271],
              [20.38878600661364, 63.79945737049272],
              [20.38943345252778, 63.7994573704927],
              [20.390080898441923, 63.79945737049272],
              [20.390728344356063, 63.79945737049272],
              [20.391375790270207, 63.7994573704927],
              [20.392023236184347, 63.79945737049271],
              [20.39202323618435, 63.79963678415679],
              [20.39137579027021, 63.79963678415679],
              [20.390728344356067, 63.79963678415679],
              [20.390080898441923, 63.79963678415679],
              [20.389433452527783, 63.79963678415679],
              [20.38878600661364, 63.79963678415678],
              [20.388138560699495, 63.79963678415679],
              [20.38749111478536, 63.79963678415679],
              [20.386843668871208, 63.79963678415678],
              [20.386196222957068, 63.79963678415679],
              [20.385548777042935, 63.79963678415679],
              [20.384901331128795, 63.79963678415678],
              [20.384253885214644, 63.79963678415679],
              [20.383606439300507, 63.79963678415679],
              [20.382958993386364, 63.79963678415678],
              [20.38231154747222, 63.79963678415679],
              [20.38166410155808, 63.79963678415679],
              [20.381016655643936, 63.79963678415679],
              [20.380369209729793, 63.79963678415679],
              [20.379721763815652, 63.79963678415679],
              [20.379721763815656, 63.79945737049271],
            ],
          ],
        },
        properties: {
          _designWeight: 2.5,
        },
      },
      {
        type: 'Feature',
        geometry: {
          type: 'Polygon',
          coordinates: [
            [
              [20.37972176381566, 63.799905904652896],
              [20.380369209729796, 63.7999059046529],
              [20.38101665564394, 63.7999059046529],
              [20.38166410155806, 63.7999059046529],
              [20.382311547472217, 63.799905904652896],
              [20.382958993386357, 63.799905904652896],
              [20.383606439300497, 63.7999059046529],
              [20.38425388521464, 63.799905904652896],
              [20.384901331128795, 63.79990590465289],
              [20.38554877704293, 63.7999059046529],
              [20.38619622295707, 63.7999059046529],
              [20.386843668871208, 63.79990590465289],
              [20.387491114785362, 63.799905904652896],
              [20.388138560699506, 63.7999059046529],
              [20.388786006613646, 63.799905904652896],
              [20.389433452527786, 63.799905904652896],
              [20.390080898441944, 63.7999059046529],
              [20.390728344356063, 63.7999059046529],
              [20.391375790270207, 63.7999059046529],
              [20.392023236184343, 63.799905904652896],
              [20.39202323618434, 63.80008531831697],
              [20.391375790270203, 63.80008531831696],
              [20.39072834435606, 63.800085318316974],
              [20.390080898441923, 63.80008531831697],
              [20.389433452527786, 63.80008531831697],
              [20.388786006613643, 63.80008531831696],
              [20.3881385606995, 63.80008531831697],
              [20.38749111478536, 63.80008531831697],
              [20.38684366887121, 63.80008531831697],
              [20.386196222957075, 63.800085318316974],
              [20.385548777042928, 63.800085318316974],
              [20.38490133112879, 63.80008531831697],
              [20.384253885214644, 63.80008531831697],
              [20.383606439300504, 63.80008531831697],
              [20.38295899338636, 63.80008531831696],
              [20.382311547472217, 63.80008531831697],
              [20.38166410155808, 63.80008531831697],
              [20.381016655643943, 63.800085318316974],
              [20.3803692097298, 63.80008531831696],
              [20.379721763815663, 63.80008531831697],
              [20.37972176381566, 63.799905904652896],
            ],
          ],
        },
        properties: {
          _designWeight: 2.5,
        },
      },
      {
        type: 'Feature',
        geometry: {
          type: 'Polygon',
          coordinates: [
            [
              [20.379721763815642, 63.80035443881309],
              [20.38036920972979, 63.80035443881309],
              [20.38101665564394, 63.80035443881308],
              [20.381664101558073, 63.80035443881309],
              [20.382311547472217, 63.80035443881308],
              [20.382958993386364, 63.80035443881309],
              [20.383606439300504, 63.80035443881309],
              [20.384253885214644, 63.80035443881309],
              [20.38490133112879, 63.80035443881309],
              [20.38554877704293, 63.80035443881309],
              [20.38619622295707, 63.80035443881309],
              [20.38684366887121, 63.80035443881309],
              [20.38749111478536, 63.80035443881309],
              [20.3881385606995, 63.80035443881309],
              [20.38878600661364, 63.80035443881309],
              [20.389433452527786, 63.80035443881308],
              [20.39008089844193, 63.80035443881309],
              [20.390728344356063, 63.80035443881308],
              [20.391375790270214, 63.80035443881309],
              [20.39202323618436, 63.80035443881309],
              [20.39202323618434, 63.80053385247716],
              [20.391375790270207, 63.80053385247716],
              [20.390728344356063, 63.80053385247716],
              [20.390080898441933, 63.80053385247716],
              [20.38943345252778, 63.80053385247716],
              [20.388786006613643, 63.80053385247716],
              [20.38813856069951, 63.80053385247716],
              [20.387491114785362, 63.80053385247716],
              [20.386843668871215, 63.80053385247716],
              [20.386196222957075, 63.80053385247716],
              [20.385548777042928, 63.80053385247716],
              [20.384901331128788, 63.80053385247716],
              [20.38425388521464, 63.80053385247716],
              [20.383606439300493, 63.80053385247716],
              [20.38295899338636, 63.80053385247716],
              [20.382311547472224, 63.80053385247716],
              [20.38166410155807, 63.80053385247716],
              [20.38101665564394, 63.80053385247716],
              [20.380369209729796, 63.80053385247716],
              [20.379721763815663, 63.80053385247716],
              [20.379721763815642, 63.80035443881309],
            ],
          ],
        },
        properties: {
          _designWeight: 2.5,
        },
      },
      {
        type: 'Feature',
        geometry: {
          type: 'Polygon',
          coordinates: [
            [
              [20.37972176381566, 63.80080297297327],
              [20.3803692097298, 63.80080297297327],
              [20.381016655643943, 63.80080297297327],
              [20.381664101558087, 63.80080297297327],
              [20.382311547472217, 63.80080297297327],
              [20.382958993386353, 63.80080297297327],
              [20.3836064393005, 63.80080297297327],
              [20.38425388521464, 63.80080297297327],
              [20.384901331128784, 63.80080297297327],
              [20.38554877704293, 63.80080297297327],
              [20.38619622295707, 63.80080297297327],
              [20.38684366887122, 63.80080297297327],
              [20.387491114785362, 63.80080297297327],
              [20.388138560699502, 63.80080297297327],
              [20.38878600661365, 63.80080297297327],
              [20.389433452527786, 63.80080297297327],
              [20.390080898441916, 63.80080297297327],
              [20.39072834435606, 63.80080297297327],
              [20.391375790270203, 63.80080297297327],
              [20.392023236184343, 63.80080297297327],
              [20.392023236184347, 63.800982386637344],
              [20.3913757902702, 63.800982386637344],
              [20.390728344356067, 63.800982386637344],
              [20.39008089844192, 63.80098238663734],
              [20.389433452527776, 63.800982386637344],
              [20.388786006613643, 63.800982386637344],
              [20.388138560699506, 63.800982386637344],
              [20.387491114785355, 63.80098238663734],
              [20.38684366887122, 63.800982386637344],
              [20.38619622295707, 63.800982386637344],
              [20.38554877704293, 63.800982386637344],
              [20.384901331128784, 63.800982386637344],
              [20.384253885214648, 63.80098238663734],
              [20.383606439300497, 63.800982386637344],
              [20.38295899338636, 63.800982386637344],
              [20.382311547472227, 63.800982386637344],
              [20.381664101558084, 63.80098238663734],
              [20.381016655643936, 63.800982386637344],
              [20.380369209729803, 63.800982386637344],
              [20.379721763815656, 63.800982386637344],
              [20.37972176381566, 63.80080297297327],
            ],
          ],
        },
        properties: {
          _designWeight: 2.5,
        },
      },
      {
        type: 'Feature',
        geometry: {
          type: 'Polygon',
          coordinates: [
            [
              [20.37972176381566, 63.80125150713347],
              [20.38036920972978, 63.80125150713347],
              [20.381016655643947, 63.801251507133465],
              [20.381664101558076, 63.80125150713347],
              [20.382311547472217, 63.801251507133465],
              [20.38295899338636, 63.801251507133465],
              [20.3836064393005, 63.80125150713347],
              [20.384253885214648, 63.80125150713347],
              [20.384901331128788, 63.801251507133465],
              [20.38554877704293, 63.80125150713346],
              [20.38619622295707, 63.80125150713346],
              [20.386843668871215, 63.801251507133465],
              [20.387491114785355, 63.80125150713347],
              [20.388138560699502, 63.80125150713347],
              [20.388786006613643, 63.801251507133465],
              [20.389433452527786, 63.801251507133465],
              [20.390080898441926, 63.80125150713347],
              [20.390728344356056, 63.801251507133465],
              [20.391375790270224, 63.80125150713347],
              [20.392023236184343, 63.80125150713347],
              [20.392023236184354, 63.801430920797536],
              [20.391375790270203, 63.80143092079753],
              [20.39072834435607, 63.80143092079753],
              [20.390080898441926, 63.801430920797536],
              [20.389433452527786, 63.801430920797536],
              [20.38878600661364, 63.80143092079753],
              [20.388138560699502, 63.801430920797536],
              [20.387491114785355, 63.801430920797536],
              [20.386843668871215, 63.801430920797536],
              [20.38619622295707, 63.80143092079753],
              [20.38554877704293, 63.80143092079753],
              [20.384901331128788, 63.801430920797536],
              [20.384253885214648, 63.801430920797536],
              [20.3836064393005, 63.801430920797536],
              [20.382958993386364, 63.80143092079753],
              [20.382311547472217, 63.801430920797536],
              [20.381664101558076, 63.801430920797536],
              [20.381016655643933, 63.80143092079753],
              [20.3803692097298, 63.80143092079753],
              [20.37972176381565, 63.801430920797536],
              [20.37972176381566, 63.80125150713347],
            ],
          ],
        },
        properties: {
          _designWeight: 2.5,
        },
      },
      {
        type: 'Feature',
        geometry: {
          type: 'Polygon',
          coordinates: [
            [
              [20.379721763815642, 63.80170004129364],
              [20.380369209729785, 63.80170004129365],
              [20.38101665564394, 63.80170004129366],
              [20.381664101558066, 63.80170004129365],
              [20.382311547472224, 63.80170004129364],
              [20.38295899338636, 63.80170004129366],
              [20.383606439300504, 63.80170004129364],
              [20.384253885214644, 63.80170004129365],
              [20.384901331128784, 63.80170004129365],
              [20.38554877704293, 63.80170004129365],
              [20.38619622295707, 63.80170004129365],
              [20.38684366887122, 63.80170004129365],
              [20.38749111478536, 63.80170004129365],
              [20.3881385606995, 63.80170004129364],
              [20.388786006613643, 63.80170004129366],
              [20.38943345252778, 63.80170004129364],
              [20.390080898441937, 63.80170004129365],
              [20.390728344356063, 63.80170004129366],
              [20.391375790270217, 63.80170004129365],
              [20.39202323618436, 63.80170004129364],
              [20.392023236184343, 63.801879454957714],
              [20.39137579027022, 63.801879454957714],
              [20.390728344356063, 63.801879454957714],
              [20.390080898441933, 63.80187945495772],
              [20.389433452527783, 63.80187945495772],
              [20.38878600661365, 63.801879454957714],
              [20.388138560699495, 63.801879454957714],
              [20.387491114785355, 63.801879454957714],
              [20.386843668871215, 63.801879454957714],
              [20.38619622295707, 63.80187945495772],
              [20.38554877704293, 63.80187945495772],
              [20.384901331128788, 63.801879454957714],
              [20.384253885214648, 63.801879454957714],
              [20.383606439300507, 63.801879454957714],
              [20.382958993386353, 63.801879454957714],
              [20.38231154747222, 63.80187945495772],
              [20.38166410155807, 63.80187945495772],
              [20.38101665564394, 63.801879454957714],
              [20.380369209729782, 63.801879454957714],
              [20.37972176381566, 63.801879454957714],
              [20.379721763815642, 63.80170004129364],
            ],
          ],
        },
        properties: {
          _designWeight: 2.5,
        },
      },
      {
        type: 'Feature',
        geometry: {
          type: 'Polygon',
          coordinates: [
            [
              [20.379721763815656, 63.80214857545384],
              [20.380369209729817, 63.80214857545384],
              [20.38101665564393, 63.80214857545384],
              [20.381664101558066, 63.80214857545384],
              [20.382311547472213, 63.80214857545385],
              [20.38295899338636, 63.80214857545384],
              [20.383606439300507, 63.80214857545384],
              [20.384253885214644, 63.80214857545384],
              [20.384901331128784, 63.80214857545384],
              [20.38554877704293, 63.80214857545384],
              [20.38619622295707, 63.80214857545384],
              [20.38684366887122, 63.80214857545384],
              [20.38749111478536, 63.80214857545384],
              [20.388138560699495, 63.80214857545384],
              [20.388786006613643, 63.80214857545384],
              [20.38943345252779, 63.80214857545385],
              [20.390080898441937, 63.80214857545384],
              [20.390728344356074, 63.80214857545384],
              [20.391375790270185, 63.80214857545384],
              [20.392023236184347, 63.80214857545384],
              [20.39202323618435, 63.80232798911791],
              [20.391375790270217, 63.80232798911792],
              [20.390728344356063, 63.80232798911791],
              [20.390080898441937, 63.80232798911792],
              [20.38943345252779, 63.80232798911791],
              [20.388786006613643, 63.80232798911791],
              [20.3881385606995, 63.80232798911791],
              [20.387491114785355, 63.80232798911791],
              [20.386843668871215, 63.80232798911791],
              [20.38619622295707, 63.80232798911791],
              [20.38554877704293, 63.80232798911791],
              [20.384901331128788, 63.80232798911791],
              [20.384253885214648, 63.80232798911791],
              [20.383606439300504, 63.80232798911791],
              [20.38295899338636, 63.80232798911791],
              [20.382311547472213, 63.80232798911791],
              [20.381664101558066, 63.80232798911792],
              [20.38101665564394, 63.80232798911791],
              [20.380369209729785, 63.80232798911792],
              [20.379721763815652, 63.80232798911791],
              [20.379721763815656, 63.80214857545384],
            ],
          ],
        },
        properties: {
          _designWeight: 2.5,
        },
      },
    ],
  });

  const int3 = intersectAreaSampleAreaFrame(fc3, fc1);
  expect(int3.size()).toBe(9);
});
